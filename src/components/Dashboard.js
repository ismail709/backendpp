import React from "react";
import { Link, Outlet, useMatch, useResolvedPath } from "react-router-dom";

function Dashboard() {
  return (
    <div className="w-screen h-screen flex">
      <div className="flex flex-col gap-3 p-8 bg-gradient-to-b from-primary-700 to-primary-900 h-screen overflow-y-scroll">
        <div className="font-logo text-3xl sm:text-5xl text-white">
          Backend++
        </div>
        <div className="flex flex-col gap-3 p-3">
          <p className="font-body text-xl text-gray-300">MENU</p>
          <Menu />
        </div>
      </div>
      <Outlet />
    </div>
  );
}

function MenuItem({ to, icon, text, ...props }) {
  let resolved = useResolvedPath(to);
  let match = useMatch({ path: resolved.pathname, end: true });

  return (
    <>
      <Link
        className={`flex gap-4 p-3 text-white text-xl font-body w-full items-center ${
          match && `font-bold bg-primary-500 rounded-lg`
        }`}
        to={to}
        {...props}
      >
        {icon}
        {text}
      </Link>
    </>
  );
}

function Menu() {
  return (
    <div className="flex flex-col gap-3">
      <MenuItem
        to="/dashboard"
        icon={
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20 4H4C2.9 4 2 4.9 2 6V9H4V6H20V9H22V6C22 4.9 21.1 4 20 4ZM20 18H4V15H2V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V15H20V18Z"
              fill="white"
            />
            <path
              d="M14.89 7.55004C14.55 6.87004 13.44 6.87004 13.1 7.55004L10 13.76L8.89 11.55C8.80801 11.3842 8.68112 11.2448 8.52378 11.1476C8.36644 11.0503 8.18496 10.9992 8 11H2V13H7.38L9.1 16.45C9.28 16.79 9.62 17 10 17C10.38 17 10.72 16.79 10.89 16.45L14 10.24L15.11 12.45C15.28 12.79 15.62 13 16 13H22V11H16.62L14.89 7.55004Z"
              fill="white"
            />
          </svg>
        }
        text="Overview"
      />
      <MenuItem
        to="/dashboard/database"
        icon={
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M19.5 1.5H4.5C4.08516 1.5 3.75 1.83516 3.75 2.25V21.75C3.75 22.1648 4.08516 22.5 4.5 22.5H19.5C19.9148 22.5 20.25 22.1648 20.25 21.75V2.25C20.25 1.83516 19.9148 1.5 19.5 1.5ZM5.4375 3.1875H18.5625V8.0625H5.4375V3.1875ZM18.5625 14.4375H5.4375V9.5625H18.5625V14.4375ZM18.5625 20.8125H5.4375V15.9375H18.5625V20.8125ZM7.125 5.625C7.125 5.87364 7.22377 6.1121 7.39959 6.28791C7.5754 6.46373 7.81386 6.5625 8.0625 6.5625C8.31114 6.5625 8.5496 6.46373 8.72541 6.28791C8.90123 6.1121 9 5.87364 9 5.625C9 5.37636 8.90123 5.1379 8.72541 4.96209C8.5496 4.78627 8.31114 4.6875 8.0625 4.6875C7.81386 4.6875 7.5754 4.78627 7.39959 4.96209C7.22377 5.1379 7.125 5.37636 7.125 5.625ZM7.125 12C7.125 12.2486 7.22377 12.4871 7.39959 12.6629C7.5754 12.8387 7.81386 12.9375 8.0625 12.9375C8.31114 12.9375 8.5496 12.8387 8.72541 12.6629C8.90123 12.4871 9 12.2486 9 12C9 11.7514 8.90123 11.5129 8.72541 11.3371C8.5496 11.1613 8.31114 11.0625 8.0625 11.0625C7.81386 11.0625 7.5754 11.1613 7.39959 11.3371C7.22377 11.5129 7.125 11.7514 7.125 12ZM7.125 18.375C7.125 18.6236 7.22377 18.8621 7.39959 19.0379C7.5754 19.2137 7.81386 19.3125 8.0625 19.3125C8.31114 19.3125 8.5496 19.2137 8.72541 19.0379C8.90123 18.8621 9 18.6236 9 18.375C9 18.1264 8.90123 17.8879 8.72541 17.7121C8.5496 17.5363 8.31114 17.4375 8.0625 17.4375C7.81386 17.4375 7.5754 17.5363 7.39959 17.7121C7.22377 17.8879 7.125 18.1264 7.125 18.375Z"
              fill="white"
            />
          </svg>
        }
        text="Database"
      />
      <MenuItem
        to="/dashboard/apis"
        icon={
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M21.5088 3.4876L20.515 2.49385C20.4775 2.45635 20.4306 2.43994 20.3814 2.43994C20.3322 2.43994 20.2853 2.45869 20.2478 2.49385L18.4642 4.27744C17.6889 3.7521 16.7735 3.472 15.8369 3.47354C14.6369 3.47354 13.4369 3.93057 12.5205 4.84697L10.1322 7.23525C10.0973 7.27049 10.0777 7.31808 10.0777 7.36768C10.0777 7.41727 10.0973 7.46486 10.1322 7.5001L16.5002 13.8681C16.5377 13.9056 16.5845 13.922 16.6338 13.922C16.6806 13.922 16.7299 13.9032 16.7674 13.8681L19.1556 11.4798C20.7705 9.8626 20.9603 7.36182 19.7252 5.53838L21.5088 3.75479C21.5814 3.67979 21.5814 3.56025 21.5088 3.4876ZM18.026 10.3524L16.6338 11.7446L12.2556 7.3665L13.6478 5.97432C14.2314 5.39072 15.0095 5.06729 15.8369 5.06729C16.6642 5.06729 17.44 5.38838 18.026 5.97432C18.6095 6.55791 18.933 7.33603 18.933 8.16338C18.933 8.99072 18.6095 9.7665 18.026 10.3524ZM13.5681 12.8134C13.5329 12.7785 13.4853 12.7589 13.4357 12.7589C13.3861 12.7589 13.3385 12.7785 13.3033 12.8134L11.7424 14.3743L9.62595 12.2579L11.1892 10.6946C11.2619 10.622 11.2619 10.5024 11.1892 10.4298L10.3361 9.57666C10.3009 9.54177 10.2533 9.52219 10.2037 9.52219C10.1541 9.52219 10.1065 9.54177 10.0713 9.57666L8.50798 11.1399L7.50017 10.1321C7.48268 10.1146 7.46183 10.1008 7.43887 10.0916C7.41592 10.0823 7.39133 10.0778 7.36658 10.0782C7.3197 10.0782 7.27048 10.097 7.23298 10.1321L4.84705 12.5204C3.2322 14.1376 3.04236 16.6384 4.27752 18.4618L2.49392 20.2454C2.45903 20.2807 2.43945 20.3282 2.43945 20.3778C2.43945 20.4274 2.45903 20.475 2.49392 20.5103L3.48767 21.504C3.52517 21.5415 3.57205 21.5579 3.62127 21.5579C3.67048 21.5579 3.71736 21.5392 3.75486 21.504L5.53845 19.7204C6.3283 20.2571 7.24705 20.5243 8.1658 20.5243C9.3658 20.5243 10.5658 20.0673 11.4822 19.1509L13.8705 16.7626C13.9431 16.6899 13.9431 16.5704 13.8705 16.4978L12.8627 15.4899L14.426 13.9267C14.4986 13.854 14.4986 13.7345 14.426 13.6618L13.5681 12.8134ZM10.3525 18.0259C10.0657 18.3142 9.72451 18.5428 9.34877 18.6985C8.97303 18.8542 8.57017 18.9339 8.16345 18.9329C7.33611 18.9329 6.56033 18.6118 5.97439 18.0259C5.68607 17.739 5.45746 17.3979 5.30177 17.0221C5.14608 16.6464 5.06641 16.2435 5.06736 15.8368C5.06736 15.0095 5.38845 14.2337 5.97439 13.6478L7.36658 12.2556L11.7447 16.6337L10.3525 18.0259Z"
              fill="white"
            />
          </svg>
        }
        text="APIs"
      />
      <MenuItem
        to="/dashboard/files"
        icon={
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M22 19V9C22 8.46957 21.7893 7.96086 21.4142 7.58579C21.0391 7.21071 20.5304 7 20 7H13.236C12.8645 6.99999 12.5004 6.89651 12.1844 6.70116C11.8684 6.50581 11.6131 6.22631 11.447 5.894L10.553 4.106C10.3869 3.77353 10.1314 3.49394 9.8152 3.29858C9.49902 3.10322 9.13466 2.99983 8.763 3H4C3.46957 3 2.96086 3.21071 2.58579 3.58579C2.21071 3.96086 2 4.46957 2 5V19C2 19.5304 2.21071 20.0391 2.58579 20.4142C2.96086 20.7893 3.46957 21 4 21H20C20.5304 21 21.0391 20.7893 21.4142 20.4142C21.7893 20.0391 22 19.5304 22 19Z"
              stroke="white"
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          </svg>
        }
        text="Files"
      />
      <MenuItem
        to="/dashboard/users"
        icon={
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20.1212 17.8969C19.679 16.8496 19.0374 15.8984 18.2321 15.0961C17.4292 14.2915 16.4781 13.65 15.4313 13.207C15.4219 13.2023 15.4126 13.2 15.4032 13.1953C16.8633 12.1406 17.8126 10.4227 17.8126 8.48438C17.8126 5.27344 15.211 2.67188 12.0001 2.67188C8.78912 2.67188 6.18756 5.27344 6.18756 8.48438C6.18756 10.4227 7.13678 12.1406 8.59693 13.1977C8.58756 13.2023 8.57818 13.2047 8.56881 13.2094C7.51881 13.6523 6.57662 14.2875 5.76803 15.0984C4.96344 15.9013 4.32194 16.8524 3.87896 17.8992C3.44378 18.924 3.20908 20.0228 3.18756 21.1359C3.18693 21.161 3.19132 21.1858 3.20046 21.2091C3.20961 21.2324 3.22332 21.2537 3.24079 21.2716C3.25826 21.2895 3.27915 21.3037 3.30221 21.3134C3.32527 21.3231 3.35004 21.3281 3.37506 21.3281H4.78131C4.88443 21.3281 4.96646 21.2461 4.96881 21.1453C5.01568 19.3359 5.74225 17.6414 7.02662 16.357C8.35553 15.0281 10.1204 14.2969 12.0001 14.2969C13.8797 14.2969 15.6446 15.0281 16.9735 16.357C18.2579 17.6414 18.9844 19.3359 19.0313 21.1453C19.0337 21.2484 19.1157 21.3281 19.2188 21.3281H20.6251C20.6501 21.3281 20.6749 21.3231 20.6979 21.3134C20.721 21.3037 20.7419 21.2895 20.7593 21.2716C20.7768 21.2537 20.7905 21.2324 20.7997 21.2091C20.8088 21.1858 20.8132 21.161 20.8126 21.1359C20.7891 20.0156 20.5571 18.9258 20.1212 17.8969ZM12.0001 12.5156C10.9243 12.5156 9.91178 12.0961 9.15006 11.3344C8.38834 10.5727 7.96881 9.56016 7.96881 8.48438C7.96881 7.40859 8.38834 6.39609 9.15006 5.63437C9.91178 4.87266 10.9243 4.45312 12.0001 4.45312C13.0758 4.45312 14.0883 4.87266 14.8501 5.63437C15.6118 6.39609 16.0313 7.40859 16.0313 8.48438C16.0313 9.56016 15.6118 10.5727 14.8501 11.3344C14.0883 12.0961 13.0758 12.5156 12.0001 12.5156Z"
              fill="white"
            />
          </svg>
        }
        text="Users"
      />
      <MenuItem
        to="/dashboard/settings"
        icon={
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12.0666 7.33337C9.46657 7.33337 7.3999 9.40004 7.3999 12C7.3999 14.6 9.46657 16.6667 12.0666 16.6667C14.6666 16.6667 16.7332 14.6 16.7332 12C16.7332 9.40004 14.6666 7.33337 12.0666 7.33337ZM12.0666 15.3334C10.1999 15.3334 8.73324 13.8667 8.73324 12C8.73324 10.1334 10.1999 8.66671 12.0666 8.66671C13.9332 8.66671 15.3999 10.1334 15.3999 12C15.3999 13.8667 13.9332 15.3334 12.0666 15.3334Z"
              fill="white"
            />
            <path
              d="M21.8668 9.80004L20.0002 9.20004L19.6002 8.20004L20.5335 6.46671C20.7335 6.06671 20.6668 5.53337 20.3335 5.20004L18.7335 3.60004C18.4002 3.26671 17.8668 3.20004 17.4668 3.40004L15.7335 4.33337L14.7335 3.93337L14.1335 2.06671C14.0002 1.66671 13.6002 1.33337 13.1335 1.33337H10.8668C10.4002 1.33337 10.0002 1.66671 9.9335 2.13337L9.3335 4.00004C8.9335 4.06671 8.60016 4.20004 8.26683 4.40004L6.5335 3.46671C6.1335 3.26671 5.60016 3.33337 5.26683 3.66671L3.66683 5.26671C3.3335 5.60004 3.26683 6.13337 3.46683 6.53337L4.3335 8.20004C4.20016 8.53337 4.06683 8.93337 3.9335 9.26671L2.06683 9.86671C1.66683 10 1.3335 10.4 1.3335 10.8667V13.1334C1.3335 13.6 1.66683 14 2.1335 14.1334L4.00016 14.7334L4.40016 15.7334L3.46683 17.4667C3.26683 17.8667 3.3335 18.4 3.66683 18.7334L5.26683 20.3334C5.60016 20.6667 6.1335 20.7334 6.5335 20.5334L8.26683 19.6L9.26683 20L9.86683 21.9334C10.0002 22.3334 10.4002 22.6667 10.8668 22.6667H13.1335C13.6002 22.6667 14.0002 22.3334 14.1335 21.9334L14.7335 20L15.7335 19.6L17.4668 20.5334C17.8668 20.7334 18.4002 20.6667 18.7335 20.3334L20.3335 18.7334C20.6668 18.4 20.7335 17.8667 20.5335 17.4667L19.6002 15.7334L20.0002 14.7334L21.9335 14.1334C22.3335 14 22.6668 13.6 22.6668 13.1334V10.8667C22.6668 10.4 22.3335 9.93337 21.8668 9.80004ZM21.3335 12.9334L18.9335 13.6667L18.8668 14L18.2668 15.4L18.0668 15.7334L19.2668 17.9334L17.9335 19.2667L15.7335 18.0667L15.4002 18.2667C14.9335 18.5334 14.4668 18.7334 14.0002 18.8667L13.6668 18.9334L12.9335 21.3334H11.0668L10.3335 18.9334L10.0002 18.8667L8.60016 18.2667L8.26683 18.0667L6.06683 19.2667L4.7335 17.9334L5.9335 15.7334L5.7335 15.4C5.46683 14.9334 5.26683 14.4667 5.1335 14L5.06683 13.6667L2.66683 12.9334V11.0667L4.9335 10.4L5.06683 10.0667C5.20016 9.53337 5.40016 9.06671 5.66683 8.60004L5.86683 8.26671L4.7335 6.06671L6.06683 4.73337L8.20016 5.93337L8.5335 5.73337C9.00016 5.46671 9.46683 5.26671 10.0002 5.13337L10.3335 5.00004L11.0668 2.66671H12.9335L13.6668 5.00004L14.0002 5.13337C14.4668 5.26671 14.9335 5.46671 15.4002 5.73337L15.7335 5.93337L17.9335 4.73337L19.2668 6.06671L18.0668 8.26671L18.2668 8.60004C18.5335 9.06671 18.7335 9.53337 18.8668 10L18.9335 10.3334L21.3335 11.0667V12.9334Z"
              fill="white"
            />
          </svg>
        }
        text="Settings"
      />
    </div>
  );
}

export default Dashboard;
